(this.webpackJsonprent_manager=this.webpackJsonprent_manager||[]).push([[0],{370:function(e,t,a){e.exports=a.p+"static/media/logo.4c5d5f97.svg"},392:function(e,t,a){e.exports=a(507)},397:function(e,t,a){},398:function(e,t,a){},506:function(e,t,a){e.exports=a.p+"static/media/logocolored.573edc5c.svg"},507:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),l=(a(397),a(398),a(17)),i=a(536),u=a(71),s=a(358),m=a(248),d=a(515),p=a(382),f=a.n(p),h=a(326),b=a(98),E=a(19),O=a(52),v=a(97),g=a(508),j=a(528),C=a(319),w=a(363),y=a.n(w),x=a(367),_=a.n(x),k=a(365),N=a.n(k),P=a(368),S=a.n(P),D=a(364),T=a.n(D),R=a(366),A=a.n(R),L=a(14),U=a.n(L),B=Object(n.createContext)(),F=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(v.e)(),u=document.location.pathname;return Object(n.useEffect)((function(){U.a.get("https://codecool-rent-manager.herokuapp.com/auth/me",{withCredentials:!0,crossDomain:!0}).then((function(e){!0===e.data&&(setTimeout((function(){c(!0)}),0),setTimeout((function(){i.push(u)}),0))})).catch((function(e){c(!1),i.push("/")}))}),[]),r.a.createElement(B.Provider,{value:{validLogin:o,setValidLogin:c}},e.children)},I=Object(n.createContext)(),G=function(e){var t=Object(n.useContext)(B).validLogin,a=Object(n.useState)({username:"",role:""}),o=Object(l.a)(a,2),c=o[0],i=o[1];return Object(n.useEffect)((function(){!0===t&&U.a.get("https://codecool-rent-manager.herokuapp.com/auth/getUser",{withCredentials:!0,crossDomain:!0}).then((function(e){i({username:e.data.userName,role:e.data.roles[0]})})).catch((function(){console.log("Not valid user")}))}),[t]),r.a.createElement(I.Provider,{value:{user:c,setUser:i}},e.children)};function M(){var e=Object(n.useContext)(I).user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{button:!0,component:O.b,to:"/app"},r.a.createElement(j.a,null,r.a.createElement(y.a,{color:"primary"})),r.a.createElement(C.a,{primary:"Dashboard"})),r.a.createElement(g.a,{button:!0,component:O.b,to:"/app/products"},r.a.createElement(j.a,null,r.a.createElement(T.a,{color:"error"})),r.a.createElement(C.a,{primary:"Products"})),r.a.createElement(g.a,{button:!0,component:O.b,to:"/app/customers"},r.a.createElement(j.a,null,r.a.createElement(N.a,{color:"primary"})),r.a.createElement(C.a,{primary:"Customers"})),r.a.createElement(g.a,{button:!0,component:O.b,to:"/app/rent"},r.a.createElement(j.a,null,r.a.createElement(A.a,{color:"error"})),r.a.createElement(C.a,{primary:"Rents"})),r.a.createElement(g.a,{button:!0,component:O.b,to:"/app/newRent"},r.a.createElement(j.a,null,r.a.createElement(_.a,{color:"primary"})),r.a.createElement(C.a,{primary:"New rent"})),r.a.createElement("div",{className:"ADMIN"===e.role?"new_user_block":"new_user"},r.a.createElement(g.a,{button:!0,component:O.b,to:"/app/register"},r.a.createElement(j.a,null,r.a.createElement(S.a,{color:"error"})),r.a.createElement(C.a,{primary:"Add user"}))))}var W=a(130),q=a(529),z=a(320),J=Object(z.a)((function(e){return{paper:{margin:"10px",padding:"1rem"},h6:{fontSize:"0.8rem","@media (max-width:600px)":{fontSize:"0.5rem"}}}})),V=a(369),X=Object(n.createContext)(),Y=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1],i=function(){U.a.defaults.withCredentials=!0,U()("https://codecool-rent-manager.herokuapp.com/rent/rentedProducts",{method:"GET",withCredentials:!0,crossDomain:!0}).then((function(e){c(e.data)}))};return Object(n.useEffect)(i,[]),r.a.createElement(X.Provider,{value:{rentPerCategory:o,fetchAllProduct:i}},e.children)},Z=Object(n.createContext)(),$=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1],i=function(){U.a.defaults.withCredentials=!0,U()("https://codecool-rent-manager.herokuapp.com/product/available",{method:"GET",withCredentials:!0,crossDomain:!0}).then((function(e){c(e.data)}))};return Object(n.useEffect)(i,[]),r.a.createElement(Z.Provider,{value:{availableProduct:o,fetchAllProduct:i}},e.children)},H=Object(n.createContext)(),K=function(e){var t=Object(n.useState)({config:{type:"bar"}}),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useContext)(X).rentPerCategory,u=Object(n.useContext)(Z).product;return Object(n.useEffect)((function(){var e=[];Object.keys(i).map((function(t){return e.push({values:[i[t]],text:t,"background-color":"#6666FF #FF0066",alpha:.3})})),c((function(){return{config:{type:"bar",title:{text:"Number of rented products this week per category",color:"#6d558e"},plot:{animation:{effect:"11",method:"3",sequence:"ANIMATION_BY_PLOT_AND_NODE",speed:10},tooltip:{text:"%t - %v"}},scaleX:{labels:["Categories"]},series:e}}}))}),[i,u]),r.a.createElement(H.Provider,{value:{state:o,setState:c}},e.children)};function Q(){var e=Object(n.useContext)(H).state,t=J();return r.a.createElement(q.a,{container:!0,spacing:1},r.a.createElement(q.a,{item:!0,xs:12,md:8},r.a.createElement(W.a,{className:t.paper},r.a.createElement("div",null,r.a.createElement(V.a,{data:e.config})))),r.a.createElement(q.a,{item:!0,xs:12,md:4},r.a.createElement(W.a,{className:t.paper},r.a.createElement(b.a,{className:t.h5,variant:"h5",color:"error"},"Out of Operation products:"),r.a.createElement(b.a,{variant:"h6"},"5"))))}var ee=a(370),te=a.n(ee),ae=a(35),ne=a(53),re=Object(n.createContext)(),oe=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useContext)(B).validLogin;return Object(n.useEffect)((function(){!0===i&&(U.a.defaults.withCredentials=!0,U()("https://codecool-rent-manager.herokuapp.com/product/all",{method:"GET",withCredentials:!0,crossDomain:!0}).then((function(e){c(e.data)})))}),[i]),r.a.createElement(re.Provider,{value:{product:o,setProduct:c}},e.children)},ce=Object(n.createContext)(),le=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1],i=function(){U.a.defaults.withCredentials=!0,U()("https://codecool-rent-manager.herokuapp.com/categories/all",{method:"GET",withCredentials:!0,crossDomain:!0}).then((function(e){c(e.data)}))};return Object(n.useEffect)(i,[]),r.a.createElement(ce.Provider,{value:{category:o,fetchAllCategory:i}},e.children)},ie=Object(n.createContext)(),ue=function(e){var t=Object(n.useContext)(re).product,a=Object(n.useContext)(ce).category,o=Object(n.useState)([]),c=Object(l.a)(o,2),i=c[0],u=c[1];return Object(n.useEffect)((function(){var e={};a.map((function(t){return e[t.id]=t.category_name})),u((function(e){return Object(ae.a)({},e,{data:t})})),u((function(t){return Object(ae.a)({},t,{columns:[{title:"Name",field:"name"},{title:"Status",field:"status.id",lookup:{1:"Available",2:"Rented",3:"Out of Operation"}},{title:"Price (Ft)",field:"price",type:"numeric"},{title:"Category",field:"category.id",lookup:e}]})}))}),[t,a]),r.a.createElement(ie.Provider,{value:[i,u]},e.children)},se=a(127),me=a.n(se);function de(){var e=Object(n.useContext)(ie),t=Object(l.a)(e,2),a=t[0],o=t[1];return r.a.createElement(me.a,{title:"Product List",columns:a.columns,data:a.data,options:{headerStyle:{color:"teal",fontWeight:"bold"},exportButton:!0},editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),o((function(t){var a,n=Object(ne.a)(t.data);return n.push(e),a=e,U.a.defaults.withCredentials=!0,U()({method:"POST",url:"https://codecool-rent-manager.herokuapp.com/product/add",withCredentials:!0,data:a}),Object(ae.a)({},t,{data:n})}))}),600)}))},onRowUpdate:function(e,t){return new Promise((function(a){setTimeout((function(){a(),t&&o((function(a){var n,r=Object(ne.a)(a.data);return r[r.indexOf(t)]=e,n=r[r.indexOf(e)],U.a.defaults.withCredentials=!0,U()({method:"PUT",url:"https://codecool-rent-manager.herokuapp.com/product/modify",withCredentials:!0,data:n}),Object(ae.a)({},a,{data:r})}))}),600)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t(),o((function(t){var a,n=Object(ne.a)(t.data),r=n[n.indexOf(e)],o={id:r.id,name:r.name,status_id:r.status_id,price:r.price,category_id:r.category_id};return a=o,U.a.defaults.withCredentials=!0,U()({method:"DELETE",url:"https://codecool-rent-manager.herokuapp.com/product/delete",withCredentials:!0,data:a,headers:{"Content-Type":"application/json"}}),n.splice(n.indexOf(e),1),Object(ae.a)({},t,{data:n})}))}),600)}))}}})}var pe=Object(n.createContext)(),fe=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1],i=function(){U.a.defaults.withCredentials=!0,U()("https://codecool-rent-manager.herokuapp.com/customer/all",{method:"GET",withCredentials:!0,crossDomain:!0}).then((function(e){c(e.data)}))};return Object(n.useEffect)(i,[]),r.a.createElement(pe.Provider,{value:{customer:o,fetchAllCustomer:i}},e.children)},he=Object(n.createContext)(),be=function(e){var t=Object(n.useContext)(pe).customer,a=Object(n.useState)([]),o=Object(l.a)(a,2),c=o[0],i=o[1];return Object(n.useEffect)((function(){i((function(e){return Object(ae.a)({},e,{data:t})})),i((function(e){return Object(ae.a)({},e,{columns:[{title:"First Name",field:"first_name"},{title:"Last Name",field:"last_name"},{title:"E-mail address",field:"email"},{title:"Address",field:"address"},{title:"Phone",field:"phone_number"}]})}))}),[t]),r.a.createElement(he.Provider,{value:[c,i]},e.children)};function Ee(){var e=Object(n.useContext)(he),t=Object(l.a)(e,2),a=t[0],o=t[1];return r.a.createElement(me.a,{title:"Customers",columns:a.columns,data:a.data,options:{headerStyle:{color:"teal",fontWeight:"bold"},exportButton:!0},editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t(),o((function(t){var a,n=Object(ne.a)(t.data);return n.push(e),e.id=69,a=e,U.a.defaults.withCredentials=!0,U()({method:"POST",url:"https://codecool-rent-manager.herokuapp.com/customer/add",withCredentials:!0,data:a}),Object(ae.a)({},t,{data:n})}))}),600)}))},onRowUpdate:function(e,t){return new Promise((function(a){setTimeout((function(){a(),t&&o((function(a){var n,r=Object(ne.a)(a.data);return r[r.indexOf(t)]=e,n=r[r.indexOf(e)],U.a.defaults.withCredentials=!0,U()({method:"PUT",url:"https://codecool-rent-manager.herokuapp.com/customer/modify",withCredentials:!0,data:n}),Object(ae.a)({},a,{data:r})}))}),600)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t(),o((function(t){var a,n=Object(ne.a)(t.data),r=n[n.indexOf(e)],o={id:r.id,first_name:r.first_name,last_name:r.last_name,email:r.email,phone_number:r.phone_number};return a=o,U.a.defaults.withCredentials=!0,U()({method:"DELETE",url:"https://codecool-rent-manager.herokuapp.com/customer/delete",withCredentials:!0,data:a}),n.splice(n.indexOf(e),1),Object(ae.a)({},t,{data:n})}))}),600)}))}}})}var Oe=a(357),ve=a(342),ge=a(540),je=a(380),Ce=a.n(je),we=a(381),ye=a.n(we),xe=a(343),_e=a(210);var ke=function(e,t){var a,n,r=document.querySelector("#required"),o=document.querySelector("#end-date"),c=document.querySelector("#start-date");if(function(e){var t,a=Object(_e.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(null==n||""===n)return!1}}catch(r){a.e(r)}finally{a.f()}return!0}([e,t,c.value,o.value])){if(a=o.value,n=c.value,!(a<n)){var l=function(e,t,a){var n,r=new Date(t),o=(new Date(a)-r)/864e5,c=0,l=Object(_e.a)(e);try{for(l.s();!(n=l.n()).done;){c+=n.value.price*o}}catch(i){l.e(i)}finally{l.f()}return c}(e,c.value,o.value),i=e.map((function(e){return e.id}));return function(e){U.a.defaults.withCredentials=!0,U()({method:"POST",url:"https://codecool-rent-manager.herokuapp.com/rent/add",withCredentials:!0,data:e})}({customer_id:t.id,cost:l,start_date:c.value,endDate:o.value,rentedProducts:i}),document.querySelector("#rent-form").reset(),!0}r.innerText="* Invalid date!",r.style.display="block"}else r.style.display="block"},Ne=a(257),Pe=a(258);function Se(){var e=Object(Ne.a)(["\n  margin: 1rem;  \n \n"]);return Se=function(){return e},e}function De(){var e=Object(Ne.a)(["\n  \n  width: 29rem;\n  padding: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 15px;\n  outline:none;\n  @media (max-width: 600px) {\n    width: 80vw;\n  }\n"]);return De=function(){return e},e}var Te=Pe.a.input(De()),Re=Pe.a.div(Se()),Ae=r.a.createElement(Ce.a,{fontSize:"small"}),Le=r.a.createElement(ye.a,{fontSize:"small"});function Ue(){var e=Object(n.useContext)(Z).availableProduct,t=Object(n.useContext)(re),a=t.product,o=t.setProduct,c=Object(n.useContext)(pe).customer,i=Object(n.useState)(!1),u=Object(l.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(null),p=Object(l.a)(d,2),f=p[0],h=p[1],b=Object(n.useState)(null),E=Object(l.a)(b,2),O=E[0],v=E[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=Object(ne.a)(a);t.map((function(e){f.map((function(t){e.id===t.id&&(e.status.id=2,e.status.name="Rented")}))})),o(t),ke(f,O)&&m(!0)},id:"rent-form",key:s},r.a.createElement("h1",{style:{margin:"2rem 1rem"}},"Create new rent"),r.a.createElement("p",{id:"required",style:{display:"none",color:"red"}},"* Please fill out every field!"),r.a.createElement(ge.a,{onChange:function(e,t){return h(t)},multiple:!0,id:"product-select",options:e,disableCloseOnSelect:!0,clearOnEscape:!0,getOptionLabel:function(e){return e.name+" ("+e.id+")"},renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{icon:Ae,checkedIcon:Le,style:{marginRight:8},checked:a}),e.name+" ("+e.id+")")},style:{width:"31rem",margin:"1rem"},renderInput:function(e){return r.a.createElement(ve.a,Object.assign({},e,{variant:"outlined",label:"Products",id:"product-field",placeholder:"Select products"}))}}),r.a.createElement(ge.a,{onChange:function(e,t){return v(t)},id:"customer-select",options:c,getOptionLabel:function(e){return e.first_name+" "+e.last_name},renderOption:function(e,t){t.selected;return r.a.createElement(r.a.Fragment,null,e.first_name+" "+e.last_name)},style:{width:"31rem",margin:"1rem"},renderInput:function(e){return r.a.createElement(ve.a,Object.assign({},e,{variant:"outlined",label:"Customers",placeholder:"Select a customer"}))}}),r.a.createElement("div",null,r.a.createElement(Re,null,r.a.createElement("p",null,"Select start date:"),r.a.createElement(Te,{id:"start-date",type:"date"}))),r.a.createElement("div",null,r.a.createElement(Re,null,r.a.createElement("p",null,"Select end date:"),r.a.createElement(Te,{id:"end-date",type:"date"}))),r.a.createElement(xe.a,{label:"Submit",type:"submit",variant:"contained",color:"primary",style:{margin:"1rem"}},"Submit"))}var Be=a(131),Fe=Object(z.a)((function(e){return{root:{display:"flex"},drawer:Object(Be.a)({},e.breakpoints.up("sm"),{width:270,flexShrink:0}),appBar:Object(Be.a)({marginLeft:270},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(270,"px)")}),menuButton:Object(Be.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:270},content:{flexGrow:1,padding:e.spacing(3)},title:{flexGrow:1}}})),Ie=Object(n.createContext)(),Ge=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useContext)(re).product,u=Object(n.useContext)(B).validLogin;return Object(n.useEffect)((function(){!0===u&&(U.a.defaults.withCredentials=!0,U()("https://codecool-rent-manager.herokuapp.com/rent/notification",{method:"GET",withCredentials:!0,crossDomain:!0}).then((function(e){c(e.data)})))}),[u,i]),r.a.createElement(Ie.Provider,{value:{notification:o,setNotification:c}},e.children)},Me=Object(n.createContext)(),We=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useContext)(Ie).notification,u=function(){U.a.defaults.withCredentials=!0,U()("https://codecool-rent-manager.herokuapp.com/rent/all",{method:"GET",withCredentials:!0,crossDomain:!0}).then((function(e){c(e.data)}))};return Object(n.useEffect)(u,[i]),r.a.createElement(Me.Provider,{value:{rent:o,fetchAllProduct:u}},e.children)},qe=Object(n.createContext)(),ze=function(e){var t=Object(n.useContext)(Me).rent,a=Object(n.useState)([]),o=Object(l.a)(a,2),c=o[0],i=o[1];return t.map((function(e){return e.customer_name=e.customer.first_name+" "+e.customer.last_name})),Object(n.useEffect)((function(){i((function(e){return console.log(t),Object(ae.a)({},e,{data:t})})),i((function(e){return Object(ae.a)({},e,{columns:[{title:"Customer",field:"customer_name"},{title:"Total cost (Ft)",field:"cost",type:"numeric"},{title:"Booking date",field:"booking_date",type:"date",editable:"never"},{title:"Start date",field:"start_date",type:"date"},{title:"End Date",field:"endDate",type:"date"},{title:"Done",field:"back",lookup:{true:!0,false:!1}}]})}))}),[t]),r.a.createElement(qe.Provider,{value:[c,i]},e.children)},Je=function(e){U.a.post("https://codecool-rent-manager.herokuapp.com/auth/logout",{withCredentials:!0,crossDomain:!0}).then((function(){console.log("Logged out")}))};function Ve(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(),i=Object(l.a)(c,2),u=i[0],s=i[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)(),b=Object(l.a)(h,2),E=b[0],O=b[1];return r.a.createElement("div",{className:"signup_input_container"},r.a.createElement("h1",null,"Register new user"),r.a.createElement("div",null,r.a.createElement("p",{className:"input_label"},"Username"),r.a.createElement("input",{className:"login_input",type:"text",autoComplete:"off",name:"username",value:a,onChange:function(e){o(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("p",{className:"input_label"},"Password"),r.a.createElement("input",{className:"login_input",type:"password",name:"password",value:u,onChange:function(e){s(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{className:"input_label"},"Role"),r.a.createElement("select",{id:"role",name:"role",className:"role_select",onChange:function(e){O(e.target.value)}},r.a.createElement("option",{value:"",selected:!0,disabled:!0,hidden:!0},"Choose a role"),r.a.createElement("option",{value:"ADMIN"},"Admin"),r.a.createElement("option",{value:"USER"},"User"))),r.a.createElement("p",{className:"input_message"}," ",p," "),r.a.createElement("button",{className:"submit_button",type:"submit",onClick:function(){U.a.post("https://codecool-rent-manager.herokuapp.com/auth/signup",{username:a,password:u,role:E},{withCredentials:!0}).then((function(e){f("Successful registration!"),o(""),s(""),O(""),setTimeout((function(){f("")}),1500)})).catch((function(){f("Try again!")}))}},"Register")))}function Xe(){var e=Object(n.useContext)(qe),t=Object(l.a)(e,2),a=t[0],o=t[1];return r.a.createElement(me.a,{title:"Rent list",columns:a.columns,data:a.data,options:{headerStyle:{color:"teal",fontWeight:"bold"},exportAllData:!0,exportButton:!0},detailPanel:[{tooltip:"Show rented products",render:function(e){return r.a.createElement("div",{style:{fontSize:13,textAlign:"left",color:"#404040",padding:"1rem"}},r.a.createElement("table",{style:{width:"50%",borderColor:"#1D8895"}},r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Price"),e.rentedProductsDetails.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.id," "),r.a.createElement("td",null," ",e.name," "),r.a.createElement("td",null," ",e.cost))}))))}}],editable:{onRowUpdate:function(e,t){return new Promise((function(a){setTimeout((function(){a(),t&&o((function(a){var n,r=Object(ne.a)(a.data);return r[r.indexOf(t)]=e,n=r[r.indexOf(e)],U.a.defaults.withCredentials=!0,U()({method:"PUT",url:"https://codecool-rent-manager.herokuapp.com/rent/modify",withCredentials:!0,data:n}),Object(ae.a)({},a,{data:r})}))}),600)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t(),o((function(t){var a,n=Object(ne.a)(t.data),r=n[n.indexOf(e)];return a=r,U.a.defaults.withCredentials=!0,U()({method:"DELETE",url:"https://codecool-rent-manager.herokuapp.com/rent/delete",withCredentials:!0,data:a,headers:{"Content-Type":"application/json"}}),n.splice(n.indexOf(e),1),Object(ae.a)({},t,{data:n})}))}),600)}))}}})}var Ye=a(541);function Ze(){var e=Object(n.useContext)(Ie).notification,t=Object(n.useContext)(re),a=t.product,o=t.setProduct;return r.a.createElement(r.a.Fragment,null,0===e.length?r.a.createElement("h2",{className:"notification_header"}," No Notifications"):r.a.createElement("h2",{className:"notification_header"},"Notifications"),e.map((function(e){return null===e.rentedProductsDetails?"":r.a.createElement("div",{className:"notification_container",key:"notif_container_"+e.id,id:"notif_container_"+e.id},r.a.createElement("table",{className:"notification_table",key:"table_"+e.id},r.a.createElement("caption",{key:"caption_"+e.id},"Customer name:"," "+e.customer.first_name+" "+e.customer.last_name),null===e.rentedProductsDetails?"":e.rentedProductsDetails.map((function(t){return r.a.createElement("tbody",{key:"tbody_"+t.id},r.a.createElement("tr",{key:"tr_"+t.id},r.a.createElement("td",{className:"notif_id",key:"td_id"+t.id},t.id),r.a.createElement("td",{key:"td_name"+t.id},t.name),r.a.createElement("td",{key:"td_date"+t.id},e.endDate),r.a.createElement("td",null,r.a.createElement("button",{style:{float:"right",margin:"0 10px"},className:"submit_button",onClick:function(n){var r="http://localhost:8762/product/product/setStatus/".concat(t.id);U.a.defaults.withCredentials=!0,U()({method:"POST",url:r,withCredentials:!0,data:e});var c=Object(ne.a)(a);c.map((function(e){e.id===t.id&&(e.status.id=1,e.status.name="Available")})),o(c)}},"Done"))))}))))})))}var $e=a(537),He=a(383),Ke=a.n(He),Qe=a(327);var et=function(e){var t=e.container,a=Fe(),o=Object(E.a)(),c=r.a.useState(!1),p=Object(l.a)(c,2),g=p[0],j=p[1],C=Object(n.useContext)(I).user,w=Object(n.useContext)(Ie).notification,y=function(){j(!g)},x=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(d.a,null,r.a.createElement(M,null)));return r.a.createElement("div",{className:a.root},r.a.createElement(i.a,{position:"fixed",className:a.appBar},r.a.createElement(h.a,null,r.a.createElement(m.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:y,className:a.menuButton},r.a.createElement(f.a,null)),r.a.createElement("img",{alt:"logo",src:te.a,style:{maxWidth:"50px",margin:"10px"}}),r.a.createElement(b.a,{variant:"h6",noWrap:!0,className:a.title},"Rent Manager"),r.a.createElement("p",null,"Logged in user: ",r.a.createElement("span",{className:"user_span"},C.username)),r.a.createElement(Qe.a,{title:"Show notifications"},r.a.createElement(m.a,{"aria-label":"Show notifications"},r.a.createElement(O.b,{style:{color:"#404040",textDecoration:"none",margin:"0 1rem"},to:"/app/notification"},r.a.createElement($e.a,{color:"error",badgeContent:w.length,showZero:!0},r.a.createElement(Ye.a,null,r.a.createElement(Ke.a,null)))))),r.a.createElement("span",{className:"logout_span"},r.a.createElement(O.b,{to:"/",onClick:Je,style:{textDecoration:"none",color:"lightblue",border:"none"}},"Log out")))),r.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},r.a.createElement(s.a,{smUp:!0,implementation:"css"},r.a.createElement(u.a,{container:t,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:g,onClose:y,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},x)),r.a.createElement(s.a,{xsDown:!0,implementation:"css"},r.a.createElement(u.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},x))),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.toolbar}),r.a.createElement($,null,r.a.createElement(le,null,r.a.createElement(Y,null,r.a.createElement(K,null,r.a.createElement(v.a,{exact:!0,path:"/app",component:Q}),r.a.createElement(v.a,{path:"/app/notification",component:Ze}))),r.a.createElement(ue,null,r.a.createElement(v.a,{path:"/app/products",component:de}))),r.a.createElement(fe,null,r.a.createElement(be,null,r.a.createElement(v.a,{path:"/app/customers",component:Ee}))),r.a.createElement(We,null,r.a.createElement(ze,null,r.a.createElement(v.a,{path:"/app/rent",component:Xe}))),r.a.createElement(fe,null,r.a.createElement(v.a,{path:"/app/newRent",component:Ue}))),r.a.createElement(v.a,{path:"/app/register",component:Ve})))},tt=a(191),at=Object(tt.a)({palette:{primary:{main:"#078591"},secondary:{main:"#7DA5C6"},error:{main:"#dc004e"},action:{main:"#CB7835"},background:{default:"#fff"}}}),nt=a(535);function rt(e){var t=Object(n.useState)(""),o=Object(l.a)(t,2),c=o[0],i=o[1],u=Object(n.useState)(""),s=Object(l.a)(u,2),m=s[0],d=s[1],p=Object(n.useState)(""),f=Object(l.a)(p,2),h=f[0],b=f[1],E=Object(n.useContext)(B).setValidLogin,O=Object(n.useContext)(I).setUser,g=Object(v.e)();return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"logo_container"},r.a.createElement("img",{className:"main_logo",src:a(506),alt:"Logo"}),r.a.createElement("h1",{className:"main_header"},"Rent Manager")),r.a.createElement("div",{className:"login_input_container"},r.a.createElement("div",null,r.a.createElement("p",{className:"input_label"},"Username"),r.a.createElement("input",{className:"login_input",type:"text",autoComplete:"off",name:"username",value:c,onChange:function(e){i(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("p",{className:"input_label"},"Password"),r.a.createElement("input",{className:"login_input",type:"password",name:"password",value:m,onChange:function(e){d(e.target.value)}}),r.a.createElement("p",{className:"input_message"}," ",h," "),r.a.createElement("button",{className:"submit_button",type:"submit",onClick:function(){U.a.post("https://codecool-rent-manager.herokuapp.com/auth/login",{username:c,password:m},{withCredentials:!0,crossDomain:!0}).then((function(e){b("Welcome back, "+e.data.userName),E(!0),O({username:e.data.userName,role:e.data.roles[0]}),setTimeout((function(){g.push("/app")}),1e3)})).catch((function(){b("Username or password is wrong!"),E(!1)}))}},"Login"))))}var ot=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,null,r.a.createElement(Ge,null,r.a.createElement(G,null,r.a.createElement(v.a,{exact:!0,path:"/",component:rt}),r.a.createElement(nt.a,{theme:at},r.a.createElement(v.a,{path:"/app",component:et}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,null,r.a.createElement(F,null,r.a.createElement(ot,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[392,1,2]]]);
//# sourceMappingURL=main.e9853223.chunk.js.map